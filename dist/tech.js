var wordCol=document.querySelector(".word"),container=document.querySelector(".container"),countCol=document.querySelector(".count"),readFileBtn=document.querySelector(".read"),inputFile=document.querySelector(".input-file"),sendFile=function(e){fetch("/readfile",{method:"post",body:JSON.stringify({data:e}),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){renderTable(e),renderBarChart(e)})},renderTable=function(e){e.forEach(function(e){var t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div");t.append(n),t.append(r),container.append(t),n.textContent=e.word,t.classList.add("row"),r.textContent=e.count})},renderBarChart=function(e){var t=d3.select(".graphs").append("svg").attr("width",1e3).attr("height",700);t.selectAll("rect").data(e).enter().append("rect").attr("width",function(e){return 200*e.count}).attr("height",50).attr("y",function(e,t){return 80*t}).attr("fill","red"),t.selectAll("text").data(e).enter().append("text").attr("fill","#000000").attr("y",function(e,t){return 80*t+30}).attr("x",5).text(function(e){return e.word+"has a count of: "+e.count})};readFileBtn.addEventListener("click",function(){var e=document.querySelector(".input-file");readFile(e.files[0])});var readFile=function(e){var t=new FileReader;t.onload=function(e){sendFile(e.target.result)},t.readAsText(e)};